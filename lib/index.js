!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var o="object"==typeof exports?t(require("react")):t(e.React);for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(window,(function(e){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=18)}([function(t,o){t.exports=e},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(5);t.SelectableGroup=n.SelectableGroup;var r=o(12);t.createSelectable=r.createSelectable;var l=o(13);t.SelectAll=l.SelectAll;var i=o(14);t.DeselectAll=i.DeselectAll},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(o(0)),l=o(3);t.SelectableGroupContext=r.default.createContext({selectable:{register:function(e){},unregister:function(e){},selectAll:l.noop,clearSelection:l.noop,getScrolledContainer:function(){return null}}})},function(e,t,o){"use strict";function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},n(o(6)),n(o(7)),n(o(8)),n(o(9)),n(o(10))},function(e,t,o){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)&&n.length){var i=r.apply(null,n);i&&e.push(i)}else if("object"===l)for(var c in n)o.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],n=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,l=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=l.next()).done;)i.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return i},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=a(o(0)),f=o(3),p=o(2),d=o(11),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectionMode:!1},t.mouseDownStarted=!1,t.mouseMoveStarted=!1,t.mouseMoved=!1,t.mouseUpStarted=!1,t.selectionStarted=!1,t.deselectionStarted=!1,t.mouseDownData={selectboxY:0,selectboxX:0,target:null},t.registry=new Set,t.selectedItems=new Set,t.selectingItems=new Set,t.ignoreCheckCache=new Map,t.ignoreList=t.props.ignoreList.concat([".selectable-select-all",".selectable-deselect-all"]),t.ignoreListNodes=[],t.setSelectboxState=null,t.selectableGroup=null,t.scrollContainer=null,t.maxScrollTop=0,t.maxScrollLeft=0,t.scrollBounds=null,t.containerScroll={scrollTop:0,scrollLeft:0},t.documentScroll={scrollTop:0,scrollLeft:0},t.saveContainerScroll=function(){var e=t.scrollContainer,o=e.scrollTop,n=e.scrollLeft;t.containerScroll={scrollTop:o,scrollLeft:n}},t.saveDocumentScroll=function(){var e=f.getDocumentScroll(),o=e.documentScrollLeft,n=e.documentScrollTop;t.documentScroll={scrollTop:n,scrollLeft:o}},t.updateRegistry=function(){var e,o;try{for(var n=i(t.registry.values()),r=n.next();!r.done;r=n.next()){r.value.updateBounds(t.containerDocumentScroll)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(e)throw e.error}}},t.registerSelectable=function(e){t.registry.add(e),e.state.isSelected&&t.selectedItems.add(e)},t.unregisterSelectable=function(e){t.registry.delete(e);var o=t.selectedItems.has(e)||t.selectingItems.has(e);t.selectedItems.delete(e),t.selectingItems.delete(e),o&&t.props.onSelectedItemUnmount(e,s(t.selectedItems))},t.updateContainerScroll=function(e){var o=t.containerScroll,n=o.scrollTop,r=o.scrollLeft;t.checkScrollTop(e.clientY,n),t.checkScrollBottom(e.clientY,n),t.checkScrollLeft(e.clientX,r),t.checkScrollRight(e.clientX,r)},t.getScrollStep=function(e){var o=t.props,n=o.minimumSpeedFactor,r=o.scrollSpeed;return Math.max(e,n)*r},t.checkScrollTop=function(e,o){var n=t.scrollBounds.top-e;(n>0||e<0)&&(t.scrollContainer.scrollTop=o-t.getScrollStep(n))},t.checkScrollBottom=function(e,o){var n=e-t.scrollBounds.bottom;if(n>0||e>window.innerHeight){var r=o+t.getScrollStep(n);t.scrollContainer.scrollTop=Math.min(r,t.maxScrollTop)}},t.checkScrollLeft=function(e,o){var n=t.scrollBounds.left-e;if(n>0||e<0){var r=o-t.getScrollStep(n);t.scrollContainer.scrollLeft=r}},t.checkScrollRight=function(e,o){var n=e-t.scrollBounds.right;if(n>0||e>window.innerWidth){var r=o+t.getScrollStep(n);t.scrollContainer.scrollLeft=Math.min(r,t.maxScrollLeft)}},t.updateSelectBox=function(e){var o=f.castTouchToMouseEvent(e);if(t.updateContainerScroll(o),!t.mouseMoveStarted){t.mouseMoveStarted=!0,t.mouseMoved=!0;var n=t.mouseDownData,r=o.clientX,l=o.clientY-t.scrollBounds.top+t.containerScroll.scrollTop,i=Math.min(l,n.selectboxY),c=r-t.scrollBounds.left+t.containerScroll.scrollLeft,a={x:Math.min(c,n.selectboxX),y:i,width:Math.abs(c-n.selectboxX),height:Math.abs(l-n.selectboxY)};t.setSelectboxState(a);var u={top:a.y+t.scrollBounds.top+t.documentScroll.scrollTop,left:a.x+t.scrollBounds.left+t.documentScroll.scrollLeft,width:a.width,height:a.height,offsetWidth:a.width||1,offsetHeight:a.height||1};t.selectItems(u),t.props.duringSelection(s(t.selectingItems)),t.mouseMoveStarted=!1}},t.selectItems=function(e,o){var n,r;void 0===o&&(o={});var l=t.props,c=l.tolerance,s=l.enableDeselect,a=l.mixedDeselect;try{for(var u=i(t.registry.values()),f=u.next();!f.done;f=u.next()){var p=f.value;t.processItem({item:p,selectboxBounds:e,tolerance:c,mixedDeselect:a,enableDeselect:s,isFromClick:o&&o.isFromClick})}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}},t.clearSelection=function(){var e,o;try{for(var n=i(t.selectedItems.values()),r=n.next();!r.done;r=n.next()){var l=r.value;l.setState({isSelected:!1}),t.selectedItems.delete(l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(e)throw e.error}}t.setState({selectionMode:!1}),t.props.onSelectionFinish(s(t.selectedItems)),t.props.onSelectionClear()},t.selectAll=function(){var e,o;t.removeIgnoredItemsFromRegistry();try{for(var n=i(t.registry.values()),r=n.next();!r.done;r=n.next()){var l=r.value;l.state.isSelected||(l.setState({isSelected:!0}),t.selectedItems.add(l))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(e)throw e.error}}t.setState({selectionMode:!0}),t.props.onSelectionFinish(s(t.selectedItems))},t.mouseDown=function(e){var o=!e.type.includes("touch")&&!f.detectMouseButton(e,1,{allowAltClick:t.props.allowAltClick,allowCtrlClick:t.props.allowCtrlClick,allowMetaClick:t.props.allowMetaClick,allowShiftClick:t.props.allowShiftClick});if(!(t.mouseDownStarted||t.props.disabled||o))if(t.removeIgnoredItemsFromRegistry(),t.isInIgnoreList(e.target))t.mouseDownStarted=!1;else{t.props.resetOnStart&&t.clearSelection(),t.mouseDownStarted=!0,t.mouseUpStarted=!1;var n=f.castTouchToMouseEvent(e);if(!t.props.globalMouse&&!f.isNodeInRoot(n.target,t.selectableGroup)){var r=c(f.getBoundsForNode(t.selectableGroup,t.documentScroll),1)[0];if(!f.doObjectsCollide({top:r.top,left:r.left,width:0,height:0,offsetHeight:r.offsetHeight,offsetWidth:r.offsetWidth},{top:n.pageY,left:n.pageX,width:0,height:0,offsetWidth:0,offsetHeight:0}))return}t.updateRootBounds(),t.updateRegistry(),t.mouseDownData={target:n.target,selectboxY:n.clientY-t.scrollBounds.top+t.containerScroll.scrollTop,selectboxX:n.clientX-t.scrollBounds.left+t.containerScroll.scrollLeft},n.preventDefault(),document.addEventListener("mousemove",t.updateSelectBox),document.addEventListener("touchmove",t.updateSelectBox),document.addEventListener("mouseup",t.mouseUp),document.addEventListener("touchend",t.mouseUp)}},t.mouseUp=function(e){var o,n;if(!t.mouseUpStarted&&(t.mouseUpStarted=!0,t.mouseDownStarted=!1,t.removeTempEventListeners(),t.mouseDownData)){var r=f.castTouchToMouseEvent(e),l=r.pageX,c=r.pageY;if(!t.mouseMoved&&f.isNodeInRoot(r.target,t.selectableGroup))t.handleClick(r,c,l);else{try{for(var a=i(t.selectingItems.values()),u=a.next();!u.done;u=a.next()){u.value.setState({isSelected:!0,isSelecting:!1})}}catch(e){o={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}t.selectedItems=new Set(s(t.selectedItems,t.selectingItems)),t.selectingItems.clear(),1===r.which&&t.mouseDownData.target===r.target&&t.preventEvent(r.target,"click"),t.setSelectboxState({x:0,y:0,width:0,height:0}),t.props.onSelectionFinish(s(t.selectedItems))}t.toggleSelectionMode(),t.cleanUp(),t.mouseMoved=!1}},t.keyListener=function(e){27===e.keyCode&&t.clearSelection()},t.getGroupRef=function(e){t.selectableGroup=e},t.getSelectboxSetState=function(e){t.setSelectboxState=e},t.defaultContainerStyle={position:"relative"},t.contextValue={selectable:{register:t.registerSelectable,unregister:t.unregisterSelectable,selectAll:t.selectAll,clearSelection:t.clearSelection,getScrolledContainer:function(){return t.scrollContainer}}},t}return r(t,e),t.prototype.componentDidMount=function(){this.props.scrollContainer?this.scrollContainer=document.querySelector(this.props.scrollContainer):this.scrollContainer=this.selectableGroup,this.scrollContainer.addEventListener("scroll",this.saveContainerScroll),document.addEventListener("scroll",this.saveDocumentScroll),this.selectableGroup.addEventListener("mousedown",this.mouseDown),this.selectableGroup.addEventListener("touchstart",this.mouseDown),this.props.deselectOnEsc&&(document.addEventListener("keydown",this.keyListener),document.addEventListener("keyup",this.keyListener)),this.removeIgnoredItemsFromRegistry()},t.prototype.componentWillUnmount=function(){this.scrollContainer.removeEventListener("scroll",this.saveContainerScroll),document.removeEventListener("scroll",this.saveDocumentScroll),this.selectableGroup.removeEventListener("mousedown",this.mouseDown),this.selectableGroup.removeEventListener("touchstart",this.mouseDown),this.props.deselectOnEsc&&(document.removeEventListener("keydown",this.keyListener),document.removeEventListener("keyup",this.keyListener)),this.removeTempEventListeners(),this.selectedItems.clear(),this.selectingItems.clear()},Object.defineProperty(t.prototype,"containerDocumentScroll",{get:function(){return{scrollTop:this.containerScroll.scrollTop+this.documentScroll.scrollTop,scrollLeft:this.containerScroll.scrollLeft+this.documentScroll.scrollLeft}},enumerable:!0,configurable:!0}),t.prototype.removeTempEventListeners=function(){document.removeEventListener("mousemove",this.updateSelectBox),document.removeEventListener("touchmove",this.updateSelectBox),document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("touchend",this.mouseUp)},t.prototype.updateRootBounds=function(){this.scrollBounds=this.scrollContainer.getBoundingClientRect(),this.maxScrollTop=this.scrollContainer.scrollHeight-this.scrollContainer.clientHeight,this.maxScrollLeft=this.scrollContainer.scrollWidth-this.scrollContainer.clientWidth},t.prototype.toggleSelectionMode=function(){var e=this.selectedItems,t=this.state.selectionMode;e.size&&!t&&this.setState({selectionMode:!0}),!e.size&&t&&this.setState({selectionMode:!1})},t.prototype.processItem=function(e){var t=e.item,o=e.tolerance,n=e.selectboxBounds,r=e.enableDeselect,l=e.mixedDeselect,i=e.isFromClick,c=this.props.delta,s=f.doObjectsCollide(n,t.bounds,o,c),a=t.state,u=a.isSelecting,p=a.isSelected;if(i&&s)return p?this.selectedItems.delete(t):this.selectedItems.add(t),t.setState({isSelected:!p}),this.clickedItem=t,t;if(!i&&s){if(p&&r&&(!this.selectionStarted||l))return t.setState({isSelected:!1}),t.deselected=!0,this.deselectionStarted=!0,this.selectedItems.delete(t);var d=l?!t.deselected:!this.deselectionStarted;if(!u&&!p&&d)return t.setState({isSelecting:!0}),this.selectionStarted=!0,this.selectingItems.add(t),{updateSelecting:!0}}return!i&&!s&&u&&this.selectingItems.has(t)?(t.setState({isSelecting:!1}),this.selectingItems.delete(t),{updateSelecting:!0}):null},t.prototype.isInIgnoreList=function(e){if(e){if(void 0!==this.ignoreCheckCache.get(e))return this.ignoreCheckCache.get(e);var t=this.ignoreListNodes.some((function(t){return e===t||t.contains(e)}));return this.ignoreCheckCache.set(e,t),t}},t.prototype.removeIgnoredItemsFromRegistry=function(){var e=this;this.ignoreListNodes=Array.from(document.querySelectorAll(this.ignoreList.join(", "))),this.registry=new Set(s(this.registry).filter((function(t){return!e.isInIgnoreList(t.node)}))),this.selectedItems=new Set(s(this.selectedItems).filter((function(t){return!e.isInIgnoreList(t.node)})))},t.prototype.preventEvent=function(e,t){var o=function(n){e.removeEventListener(t,o,!0),n.preventDefault(),n.stopPropagation()};e.addEventListener(t,o,!0)},t.prototype.cleanUp=function(){var e,t;if(this.deselectionStarted=!1,this.selectionStarted=!1,this.props.mixedDeselect)try{for(var o=i(this.registry.values()),n=o.next();!n.done;n=o.next()){n.value.deselected=!1}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.handleClick=function(e,t,o){if(this.props.selectOnClick){var n=this.props,r=n.clickClassName,l=n.allowClickWithoutSelected,i=n.onSelectionFinish,c=e.target.classList||[],a=Array.from(c).includes(r);(l||this.selectedItems.size||a||e.ctrlKey)&&(this.selectItems({top:t,left:o,width:0,height:0,offsetWidth:0,offsetHeight:0},{isFromClick:!0}),i(s(this.selectedItems),this.clickedItem),1===e.which&&this.preventEvent(e.target,"click"),2!==e.which&&3!==e.which||this.preventEvent(e.target,"contextmenu"))}},t.prototype.render=function(){var e=this.state.selectionMode,t=this.props,o=t.component,n=void 0===o?"div":o,r=t.className,i=t.style,c=t.selectionModeClass,s=t.fixedPosition,a=t.selectboxClassName,f=t.children;return u.default.createElement(p.SelectableGroupContext.Provider,{value:this.contextValue},u.default.createElement(n,{ref:this.getGroupRef,style:l(l({},this.defaultContainerStyle),i),className:r+" "+(e?c:"")},f,u.default.createElement(d.Selectbox,{getSetState:this.getSelectboxSetState,className:a,fixedPosition:s})))},t.defaultProps={clickClassName:"",tolerance:0,globalMouse:!1,ignoreList:[],scrollSpeed:.25,minimumSpeedFactor:60,duringSelection:f.noop,onSelectionFinish:f.noop,onSelectionClear:f.noop,onSelectedItemUnmount:f.noop,allowClickWithoutSelected:!0,selectionModeClass:"in-selection-mode",resetOnStart:!1,disabled:!1,deselectOnEsc:!0,fixedPosition:!1,delta:1,allowAltClick:!1,allowCtrlClick:!1,allowMetaClick:!1,allowShiftClick:!1,selectOnClick:!0},t}(u.Component);t.SelectableGroup=h},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["pageX","pageY","clientX","clientY"];function r(e,t){n.forEach((function(o){void 0===e[o]&&(e[o]=e[t][0][o])}))}t.castTouchToMouseEvent=function(e){if(e.type.includes("mouse"))return e;try{"touchstart"===e.type?r(e,"targetTouches"):"touchmove"===e.type&&r(e,"changedTouches")}catch(e){console.error(e.message)}return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectMouseButton=function(e,t,o){return void 0===t&&(t=1),void 0===o&&(o={}),!(e.metaKey&&!o.allowMetaClick||e.ctrlKey&&!o.allowCtrlClick||e.altKey&&!o.allowAltClick||e.shiftKey&&!o.allowShiftClick)&&("buttons"in e?e.buttons===t:"which"in e?e.which===t:e.button===t-1)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){var n=o.tolerance,r=void 0===n?0:n,l=o.useOffsetSize,i=void 0!==l&&l,c=i?e.offsetHeight:e.height,s=i?t.offsetHeight:t.height,a=i?e.offsetWidth:e.width,u=i?t.offsetWidth:t.width;return!(e.top+c-r<t.top||e.top+r>t.top+s||e.left+a-r<t.left||e.left+r>t.left+u)};function r(e){return Array.isArray(e)?e:[e]}t.doObjectsCollide=function(e,t,o,l){void 0===o&&(o=0),void 0===l&&(l=1);for(var i=r(e),c=r(t),s=0;s<i.length;s++)for(var a=0;a<c.length;a++)return n(i[s],c[a],{tolerance:o,useOffsetSize:1===l})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentScroll=function(){return{documentScrollTop:Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),documentScrollLeft:Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},t.getBoundsForNode=function(e,t){void 0===t&&(t={scrollTop:0,scrollLeft:0});var o=t.scrollTop,n=t.scrollLeft;return Array.from(e.getClientRects()).map((function(t){return{top:t.top+o,left:t.left+n,offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight,width:t.width,height:t.height}}))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeInRoot=function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}},function(e,t,o){"use strict";var n=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,l=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=l.next()).done;)i.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return i},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=r(o(0)),i={y:0,x:0,width:0,height:0};function c(e){var t=e.fixedPosition,o=e.getSetState,r=e.className,c=n(l.useState(i),2),s=c[0],a=c[1];l.useEffect((function(){o(a)}),[]);var u={left:s.x,top:s.y,width:s.width,height:s.height,zIndex:9e3,position:t?"fixed":"absolute",cursor:"default",willChange:"transform",transform:"translateZ(0)"};return l.default.createElement("div",{className:r,style:u})}t.Selectbox=c,c.defaultProps={className:"selectable-selectbox"}},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=i(o(0)),s=o(3),a=o(2);t.createSelectable=function(e){var t;return(t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isSelected:e.props.isSelected,isSelecting:!1},e.node=null,e.bounds=null,e.updateBounds=function(t){e.bounds=s.getBoundsForNode(e.node,t)},e.getSelectableRef=function(t){e.node=t},e}return r(o,t),o.prototype.componentDidMount=function(){this.updateBounds(),this.context.selectable.register(this)},o.prototype.componentWillUnmount=function(){this.context.selectable.unregister(this)},o.prototype.render=function(){return c.default.createElement(e,l({},this.props,this.state,{selectableRef:this.getSelectableRef}))},o}(c.Component)).contextType=a.SelectableGroupContext,t.defaultProps={isSelected:!1},t}},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=c(o(0)),a=o(2),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.getRootRef=function(e){t.root=e},t}return r(t,e),t.prototype.componentDidMount=function(){this.root.addEventListener("mousedown",(function(e){return e.stopPropagation()}))},t.prototype.render=function(){var e=this.props,t=e.component,o=void 0===t?"div":t,n=e.children,r=e.className,c=void 0===r?"":r,a=i(e,["component","children","className"]),u=o;return s.default.createElement(u,l({ref:this.getRootRef,className:"selectable-select-all "+c,onClick:this.context.selectable.selectAll},a),n)},t.contextType=a.SelectableGroupContext,t}(s.Component);t.SelectAll=u},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=c(o(0)),a=o(2),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.getRootRef=function(e){t.root=e},t}return r(t,e),t.prototype.componentDidMount=function(){this.root.addEventListener("mousedown",(function(e){return e.stopPropagation()}))},t.prototype.render=function(){var e=this.props,t=e.component,o=void 0===t?"div":t,n=e.children,r=e.className,c=i(e,["component","children","className"]),a=o;return s.default.createElement(a,l({ref:this.getRootRef,className:"selectable-select-all "+r,onClick:this.context.selectable.clearSelection},c),n)},t.contextType=a.SelectableGroupContext,t}(s.Component);t.DeselectAll=u},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),l=o(1),i=o(4),c=o.n(i),s=(o(15),o(16),Object(l.createSelectable)((function(e){var t=e.selectableRef,o=e.isSelected,n=e.isSelecting;e.value;return r.a.createElement("div",{className:c()("time-lattice-date",{selected:o,selecting:n}),ref:t})}))),a=Object(n.memo)((function(e){var t=e.hourList,o=e.items,i=e.tips;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"warpper-date"},r.a.createElement("div",{className:"time-lattice-day-wrapper"},["星期一","星期二","星期三","星期四","星期五","星期六","星期日"].map((function(e){return r.a.createElement("div",{key:e,className:"time-lattice-day"},e)}))),r.a.createElement("div",{className:"date-time-list"},r.a.createElement("div",{className:"time-lattice-wrapper"},t&&t.map((function(e,t){return r.a.createElement("div",{className:"time-lattice-item not-selectable",key:e.title},e.title)}))),r.a.createElement("div",{className:"time-lattice-wrapper"},o&&o.map((function(e,t){return r.a.createElement(s,{key:t,value:e,isSelected:e.isSelected})}))))),r.a.createElement("div",{className:"time-lattice-button-wrapper not-selectable"},r.a.createElement("span",{className:"time-lattice-tips"},i),r.a.createElement(l.DeselectAll,{className:"time-lattice-button"},r.a.createElement("div",{className:"text"},"清除"))))}));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){if(!e&&"object"!==u(e))throw new Error("error arguments","shallowClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(o){e[o]&&"object"===u(e[o])?(t[o]=e[o].constructor===Array?[]:{},t[o]=f(e[o])):t[o]=e[o]})),t}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b(e);if(t){var r=b(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return y(this,o)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function w(e){return e<10?"0".concat(e):e}o(17);var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,o,i,c=v(s);function s(){var e;d(this,s);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return g(S(e=c.call.apply(c,[this].concat(o))),"state",{hourList:[],items:[],groupedData:[],tips:"",timeObj:{}}),g(S(e),"getSelectableGroupRef",(function(e){window.selectableGroup=e})),g(S(e),"handleSelectionFinish",(function(t){var o=t.map((function(e){return e.props.value}));o.sort((function(e,t){return e.index-t.index}));var n,r=o.map((function(e){return e.index})),l=e.arrange(o);n=l.length>0?"已选择时间段":"拖动鼠标选择时间段",e.setState({groupedData:l,tips:n},(function(){e.generrateTimeObject()})),e.props.onChange.call(S(e),r)})),g(S(e),"arrange",(function(e){for(var t,o,n=[],r=0;r<e.length;r++){var l=e[r];if(null!=l){if(t===l.column){o.push(l),t++;continue}o=[l],t=l.column+1,n.push(o)}}return n})),g(S(e),"generateTimePeriodExhibition",(function(){return Object.keys(e.state.timeObj).map((function(t,o){return r.a.createElement("p",{key:o,className:"time-lattice-ex"},r.a.createElement("span",{className:"time-lattice-time"},t),e.generateTime(e.state.timeObj[t]))}))})),g(S(e),"generateTime",(function(e){return e.map((function(e){var t=e[e.length-1].column,o=Math.round(t/2),n=Math.floor(e[0].column/2);return"".concat(w(n),":").concat(e[0].column%2==0?"00":"30"," ~ ").concat(w(o),":").concat(t%2==0?"30":"00",";  ")}))})),g(S(e),"generateItemsHour",(function(){for(var t=[],o=-2,n=0;n<24;n++){var r={};n<25&&(r.title=n<10?"0".concat(n):n),n%24==0&&o++,r.row=o,r.column=n%24,r.index=n,t.push(r)}e.setState({hourList:t})})),g(S(e),"generateItems",(function(){for(var t=[],o=-1,n=[],r=0;r<336;r++){var l={};r%48==0&&o++,l.row=o,l.column=r%48,l.index=r,e.props.defaultSelected&&e.props.defaultSelected.includes(r)&&(l.isSelected=!0,n.push({props:{value:l}})),t.push(l)}e.setState({items:t}),e.handleSelectionFinish(n)})),g(S(e),"generrateTimeObject",(function(){var t={};if(e.state.groupedData.forEach((function(e){if(e&&e.length>0)switch(e[0].row){case 0:t["星期一"]||(t["星期一"]=[]),t["星期一"].push(e);break;case 1:t["星期二"]||(t["星期二"]=[]),t["星期二"].push(e);break;case 2:t["星期三"]||(t["星期三"]=[]),t["星期三"].push(e);break;case 3:t["星期四"]||(t["星期四"]=[]),t["星期四"].push(e);break;case 4:t["星期五"]||(t["星期五"]=[]),t["星期五"].push(e);break;case 5:t["星期六"]||(t["星期六"]=[]),t["星期六"].push(e);break;case 6:t["星期日"]||(t["星期日"]=[]),t["星期日"].push(e)}})),e.setState({timeObj:t}),e.props.onSelectionFinish){var o=f(t);Object.keys(o).forEach((function(e){o[e].map((function(e){return e.map((function(e){return delete e.isSelected,e.index=e.index-25,e}))}))})),e.props.onSelectionFinish.call(S(e),o)}})),e}return t=s,(o=[{key:"componentDidMount",value:function(){this.generateItemsHour(),this.generateItems()}},{key:"render",value:function(){var e=this.state,t=e.hourList,o=e.items,i=e.tips;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"time-lattice-title-wrapper"},r.a.createElement("div",{className:"time-date-title-name"},"星期/时间"),r.a.createElement("div",{className:"time-lattice-title"},"00:00-12:00"),r.a.createElement("div",{className:"time-lattice-title"},"12:00-24:00")),r.a.createElement(l.SelectableGroup,{enableDeselect:!0,tolerance:0,globalMouse:!0,allowClickWithoutSelected:!0,onSelectionFinish:this.handleSelectionFinish,ignoreList:[".not-selectable"]},r.a.createElement(a,{hourList:t,items:o,tips:i})),this.generateTimePeriodExhibition())}}])&&h(t.prototype,o),i&&h(t,i),s}(n.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=L(e);if(t){var r=L(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return k(this,o)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,o,n,l=E(i);function i(){return x(this,i),l.apply(this,arguments)}return t=i,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"time-lattice-container",id:this.props.id},r.a.createElement(_,this.props))}}])&&C(t.prototype,o),n&&C(t,n),i}(r.a.Component);t.default=M}]).default}));